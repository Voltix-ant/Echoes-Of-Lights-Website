<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Echoes Of Lights - Présentation</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages/index.css">

</head>
<body>

<header>
    <nav>
        <h1 class="logo">Echoes Of Lights</h1>
        <ul>
            <li><a href="index.html">Le jeu</a></li>
            <li><a href="lore.html">Le lore</a></li>
            <li><a href="equipe.html">L'équipe</a></li>
            <li><a href="sources.html">Sources</a></li>
            <li>
                <a href="https://github.com/SpiR8t/Projet-Jeu-Epita"
                   class="btn"
                   target="_blank"
                   title="Se rendre sur le répo GitHub du projet">
                   GitHub
                </a>
            </li>
            <li>
                <a href="#"
                   class="btn"
                   target="_blank"
                   title="Télécharger le rapport de la première soutenance (PDF)">
                    Rapport
                </a>
            </li>
        </ul>
    </nav>
</header>

<main>
    <div class="page-banner">
        <img src="assets/images/darkbanner.png">
    </div>

    <div class="banner-spacer"></div>

    <section class="hero">
    <h2>Présentation du jeu</h2>

    <div class="hero-content">
        <p>
            Echoes of Lights un jeu d’action-aventure et de réflexion, à jouer en 
            coopération à deux. Les joueurs y explorent un monde sombre et fantastique, 
            remplie d’énigmes, de pièges 
            et d’objets à manipuler. En combinant leurs différentes capacités, les deux 
            personnages, un garçon et une fille, doivent avancer, résoudre des puzzles 
            et rétablir l’équilibre entre la lumière et l’ombre grâce au prisme.
        </p>

        <img src="assets/images/prisme.png"
             alt="Prisme du jeu Echoes Of Lights"
             class="hero-image">
    </div>
</section>

    <section class="content">
        <h3>Concept</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>

        <h3>Gameplay</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </section>

    <section class="content">
        <h1>Installer le jeu</h1>
        <p>
            Le jeu est disponible sur notre répertoire Github, il suffit de suivre 
            les instructions du README pour faire fonctionner le jeu.
        </p>
        <p><a href="https://github.com/SpiR8t/Projet-Jeu-Epita"
                   class="btn"
                   target="_blank"
                   title="Se rendre sur le répo GitHub du projet">
                   Echoes Of Lights
                </a></p>
    </section>

    <section class="content">
        <h1>Le rapport d'avancée du projet</h1>
        <p>
            Voici le lien vers notre rapport affichant la totalité de la progression du développement.
        </p>
        <p><a href="#"
                   class="btn"
                   target="_blank"
                   title="Télécharger le rapport de la première soutenance (PDF)">
                    Rapport
                </a></p>
    </section>
</main>

<footer>
    <p>2026 - Echoes Of Lights</p>
</footer>

<script>
    const banner = document.querySelector('.page-banner');
    const bannerOverlay = banner;
    
    // Calculate scroll progress and apply effects
    function handleScroll() {
        const scrollY = window.scrollY;
        const windowHeight = window.innerHeight;
        
        // Calculate progress (0 to 1) based on scroll position
        // Start darkening after 20% scroll, fully dark at 60%, fade out by 100%
        const darkenStart = windowHeight * 0.2;
        const darkenEnd = windowHeight * 0.6;
        const fadeStart = windowHeight * 0.6;
        const fadeEnd = windowHeight * 1.0;
        
        let darkenProgress = 0;
        let fadeProgress = 0;
        
        if (scrollY >= darkenStart) {
            // Darkening effect
            darkenProgress = Math.min(1, (scrollY - darkenStart) / (darkenEnd - darkenStart));
        }
        
        if (scrollY >= fadeStart) {
            // Fading effect
            fadeProgress = Math.min(1, (scrollY - fadeStart) / (fadeEnd - fadeStart));
        }
        
        // Apply darkening (0 to 0.7 opacity)
        const overlayOpacity = darkenProgress * 0.7;
        bannerOverlay.style.setProperty('--overlay-opacity', overlayOpacity);
        bannerOverlay.querySelector('::after') || bannerOverlay;
        
        // Apply fading (1 to 0 opacity)
        const bannerOpacity = 1 - fadeProgress;
        banner.style.opacity = bannerOpacity;
        
        // Update the ::after pseudo-element overlay
        const style = document.createElement('style');
        style.id = 'banner-overlay-style';
        const existingStyle = document.getElementById('banner-overlay-style');
        if (existingStyle) {
            existingStyle.remove();
        }
        style.textContent = `
            .page-banner::after {
                background: rgba(0, 0, 0, ${overlayOpacity}) !important;
            }
        `;
        document.head.appendChild(style);
    }
    
    // Throttle scroll events for better performance
    let ticking = false;
    window.addEventListener('scroll', () => {
        if (!ticking) {
            window.requestAnimationFrame(() => {
                handleScroll();
                ticking = false;
            });
            ticking = true;
        }
    });
    
    // Initial call
    handleScroll();
</script>

</body>
</html>